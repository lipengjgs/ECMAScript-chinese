## 6 数据类型和值 <font style="color:rgb(17, 17, 17);">ECMAScript Data Types and Values</font>
<font style="color:rgb(17, 17, 17);">Algorithms within this specification manipulate values each of which has an associated type. The possible value types are exactly those defined in this clause. Types are further classified into </font>[<font style="color:rgb(32, 108, 167);">ECMAScript language types</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types)<font style="color:rgb(17, 17, 17);"> and specification types.</font>

本规范中的算法会处理各种值，每个值都有其关联的类型。可能的值类型正好是本条中定义的那些类型。类型进一步被划分为ECMAScript语言类型和规范类型。

### <font style="color:rgb(17, 17, 17);">6.1 类型 ECMAScript Language Types</font>
<font style="color:rgb(17, 17, 17);">An ECMAScript language type corresponds to values that are directly manipulated by an ECMAScript programmer using the ECMAScript language. The ECMAScript language types are Undefined, Null, Boolean, String, Symbol, Number, BigInt, and Object. An ECMAScript language value is a value that is characterized by an ECMAScript language type.</font>

ECMAScript 语言类型对应于 ECMAScript 程序员直接使用 ECMAScript 语言操作的值。ECMAScript 语言类型包括 Undefined、Null、Boolean、String、Symbol、Number、BigInt 和 Object。ECMAScript 语言值是具有 ECMAScript 语言类型特征的值。

#### <font style="color:rgb(17, 17, 17);">6.1.1 The Undefined Type</font>
<font style="color:rgb(17, 17, 17);">The Undefined type has exactly one value, called </font>**<font style="color:rgb(17, 17, 17);">undefined</font>**<font style="color:rgb(17, 17, 17);">. Any variable that has not been assigned a value has the value </font>**<font style="color:rgb(17, 17, 17);">undefined</font>**<font style="color:rgb(17, 17, 17);">.</font>

未定义类型（Undefined type）只有一个值，即 undefined。任何未被赋值的变量的值都是 undefined。

#### <font style="color:rgb(17, 17, 17);">6.1.2 The Null Type</font>
<font style="color:rgb(17, 17, 17);">The Null type has exactly one value, called </font>**<font style="color:rgb(17, 17, 17);">null</font>**<font style="color:rgb(17, 17, 17);">.</font>

空类型（Null type）恰好只有一个值，称为 null。

#### <font style="color:rgb(17, 17, 17);">6.1.3 The Boolean Type</font>
<font style="color:rgb(17, 17, 17);">The Boolean type represents a logical entity having two values, called </font>**<font style="color:rgb(17, 17, 17);">true</font>**<font style="color:rgb(17, 17, 17);"> and </font>**<font style="color:rgb(17, 17, 17);">false</font>**<font style="color:rgb(17, 17, 17);">.</font>

布尔类型表示一个具有两个值的逻辑实体，这两个值被称为真和假。

#### <font style="color:rgb(17, 17, 17);">6.1.4 The String Type</font>
<font style="color:rgb(17, 17, 17);">The String type is the set of all ordered sequences of zero or more 16-bit unsigned </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> values (“elements”) up to a maximum length of 2</font><sup><font style="color:rgb(17, 17, 17);">53</font></sup><font style="color:rgb(17, 17, 17);"> - 1 elements. The String type is generally used to represent textual data in a running ECMAScript program, in which case each element in the String is treated as a UTF-16 code unit value. Each element is regarded as occupying a position within the sequence. These positions are indexed with non-negative </font>[<font style="color:rgb(32, 108, 167);">integers</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);">. The first element (if any) is at index 0, the next element (if any) at index 1, and so on. The length of a String is the number of elements (i.e., 16-bit values) within it. The empty String has length zero and therefore contains no elements.</font>

字符串类型是由最多2^53 - 1个元素组成的有序序列，这些元素是无符号的16位整数值。在运行的ECMAScript程序中，字符串类型通常用于表示文本数据，在这种情况下，字符串中的每个元素都被视为一个UTF-16编码单元值。每个元素被视为占据序列中的一个位置，这些位置通过非负整数索引。第一个元素（如果有的话）位于索引0处，下一个元素（如果有的话）位于索引1处，依此类推。字符串的长度是指其中包含的元素数量（即16位值的数量）。空字符串的长度为零，因此不包含任何元素。



<font style="color:rgb(17, 17, 17);">ECMAScript operations that do not interpret String contents apply no further semantics. Operations that do interpret String values treat each element as a single UTF-16 code unit. However, ECMAScript does not restrict the value of or relationships between these code units, so operations that further interpret String contents as sequences of Unicode code points encoded in UTF-16 must account for ill-formed subsequences. Such operations apply special treatment to every code unit with a numeric value in the</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">inclusive interval</font>](https://tc39.es/ecma262/#inclusive-interval)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from 0xD800 to 0xDBFF (defined by the Unicode Standard as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">leading surrogate</font><font style="color:rgb(17, 17, 17);">, or more formally as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">high-surrogate code unit</font><font style="color:rgb(17, 17, 17);">) and every code unit with a numeric value in the</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">inclusive interval</font>](https://tc39.es/ecma262/#inclusive-interval)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from 0xDC00 to 0xDFFF (defined as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">trailing surrogate</font><font style="color:rgb(17, 17, 17);">, or more formally as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">low-surrogate code unit</font><font style="color:rgb(17, 17, 17);">) using the following rules:</font>

+ <font style="color:rgb(17, 17, 17);">A code unit that is not a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">leading surrogate</font>](https://tc39.es/ecma262/#leading-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and not a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">trailing surrogate</font>](https://tc39.es/ecma262/#trailing-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is interpreted as a code point with the same value.</font>
+ <font style="color:rgb(17, 17, 17);">A sequence of two code units, where the first code unit</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">c1</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">leading surrogate</font>](https://tc39.es/ecma262/#leading-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and the second code unit</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">c2</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">trailing surrogate</font>](https://tc39.es/ecma262/#trailing-surrogate)<font style="color:rgb(17, 17, 17);">, is a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">surrogate pair</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and is interpreted as a code point with the value (</font><font style="color:rgb(33, 131, 121);">c1</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">- 0xD800) × 0x400 + (</font><font style="color:rgb(33, 131, 121);">c2</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">- 0xDC00) + 0x10000. (See</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">11.1.3</font>](https://tc39.es/ecma262/#sec-utf16decodesurrogatepair)<font style="color:rgb(17, 17, 17);">)</font>
+ <font style="color:rgb(17, 17, 17);">A code unit that is a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">leading surrogate</font>](https://tc39.es/ecma262/#leading-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">or</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">trailing surrogate</font>](https://tc39.es/ecma262/#trailing-surrogate)<font style="color:rgb(17, 17, 17);">, but is not part of a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">surrogate pair</font>](https://tc39.es/ecma262/#surrogate-pair)<font style="color:rgb(17, 17, 17);">, is interpreted as a code point with the same value.</font>

ECMAScript 操作如果不解释字符串内容，则不会应用进一步的语义。那些确实解释字符串值的操作将每个元素视为单个 UTF-16 编码单元。然而，ECMAScript 并不限制这些编码单元的值或它们之间的关系，因此进一步将字符串内容解释为以 UTF-16 编码的 Unicode 码位序列的操作必须考虑到格式不正确的子序列。这类操作对每一个数值位于 0xD800 到 0xDBFF（包括端点）范围内的编码单元（根据 Unicode 标准定义为主导代理项，或者更正式地说是高代理项编码单元）以及每一个数值位于 0xDC00 到 0xDFFF（包括端点）范围内的编码单元（定义为尾随代理项，或更正式地称为低代理项编码单元）采用以下规则进行特殊处理：

+ 一个既不是主导代理项也不是尾随代理项的编码单元被解释为具有相同值的码位。
+ 两个编码单元的序列，其中第一个编码单元 c1 是主导代理项而第二个编码单元 c2 是尾随代理项，构成一个代理对，并被解释为一个码位，其值为 (c1 - 0xD800) × 0x400 + (c2 - 0xDC00) + 0x10000。（参见 11.1.3）
+ 一个作为主导代理项或尾随代理项但未组成代理对的编码单元，被解释为其自身值相同的码位。

<font style="color:rgb(17, 17, 17);"></font>

<font style="color:rgb(17, 17, 17);">The function </font>`**String.prototype.normalize**`<font style="color:rgb(17, 17, 17);"> (see </font>[<font style="color:rgb(32, 108, 167);">22.1.3.15</font>](https://tc39.es/ecma262/#sec-string.prototype.normalize)<font style="color:rgb(17, 17, 17);">) can be used to explicitly normalize a String value. </font>`**String.prototype.localeCompare**`<font style="color:rgb(17, 17, 17);"> (see </font>[<font style="color:rgb(32, 108, 167);">22.1.3.12</font>](https://tc39.es/ecma262/#sec-string.prototype.localecompare)<font style="color:rgb(17, 17, 17);">) internally normalizes String values, but no other operations implicitly normalize the strings upon which they operate. Operation results are not language- and/or locale-sensitive unless stated otherwise.</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note: The rationale behind this design was to keep the implementation of Strings as simple and high-performing as possible. If </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">ECMAScript source text</font>](https://tc39.es/ecma262/#sec-source-text)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> is in Normalized Form C, string literals are guaranteed to also be normalized, as long as they do not contain any Unicode escape sequences.</font>

<font style="color:rgb(17, 17, 17);">In this specification, the phrase "the</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">string-concatenation</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">A</font><font style="color:rgb(17, 17, 17);">,</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">B</font><font style="color:rgb(17, 17, 17);">, ..." (where each argument is a String value, a code unit, or a sequence of code units) denotes the String value whose sequence of code units is the concatenation of the code units (in order) of each of the arguments (in order).</font>

<font style="color:rgb(17, 17, 17);">The phrase "the</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">substring</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">to</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);">" (where</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is a String value or a sequence of code units and</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">are</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">integers</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);">) denotes the String value consisting of the consecutive code units of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">beginning at index</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and ending immediately before index</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">(which is the empty String when</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">=</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);">). If the "to" suffix is omitted, the length of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is used as the value of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);">.</font>

<font style="color:rgb(17, 17, 17);">The phrase "the ASCII word characters" denotes the following String value, which consists solely of every letter and number in the Unicode Basic Latin block along with U+005F (LOW LINE):  
</font>**<font style="color:rgb(17, 17, 17);">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_"</font>**<font style="color:rgb(17, 17, 17);">.  
</font><font style="color:rgb(17, 17, 17);">For historical reasons, it has significance to various algorithms.</font>

可以使用 `String.prototype.normalize` 方法（参见 22.1.3.15）来显式地规范化一个字符串值。`String.prototype.localeCompare` 方法（参见 22.1.3.12）在内部会规范化字符串值，但其他操作不会隐式地对其操作的字符串进行规范化。除非另有说明，否则操作结果不会对语言和/或区域设置敏感。

> 注：此设计背后的原因是为了使字符串的实现尽可能简单和高效。如果 ECMAScript 源文本处于归一化形式 C，并且不包含任何 Unicode 转义序列，则字符串字面量也保证是规范化的。
>

在本规范中，“A、B等的字符串连接”（其中每个参数都是一个字符串值、一个代码单元或一系列代码单元）表示一个字符串值，其代码单元序列是由各参数（按顺序）的代码单元（按顺序）连接而成的。  
“S从inclusiveStart到exclusiveEnd的子串”（其中S是一个字符串值或一系列代码单元，inclusiveStart和exclusiveEnd是整数）表示由S中从索引inclusiveStart开始到exclusiveEnd前结束的连续代码单元组成的字符串值（当inclusiveStart等于exclusiveEnd时，这是空字符串）。如果省略了“to”后缀，则使用S的长度作为exclusiveEnd的值。  
“ASCII单词字符”指的是以下字符串值，它仅包括 Unicode 基本拉丁块中的每一个字母和数字以及 U+005F (LOW LINE)：  
"**ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_**"。  
出于历史原因，这在各种算法中有重要意义。



##### <font style="color:rgb(17, 17, 17);">6.1.4.1 StringIndexOf ( </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);">, </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);">, </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> )</font>
<font style="color:rgb(17, 17, 17);">The abstract operation StringIndexOf takes arguments </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);"> (a String), </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);"> (a String), and </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> (a non-negative </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);">) and returns a non-negative </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> or not-found. It performs the following steps when called:</font>

1. <font style="color:rgb(17, 17, 17);">Let </font><font style="color:rgb(33, 131, 121);">len</font><font style="color:rgb(17, 17, 17);"> be the length of </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);">.</font>
2. <font style="color:rgb(17, 17, 17);">If </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);"> is the empty String and </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> ≤ </font><font style="color:rgb(33, 131, 121);">len</font><font style="color:rgb(17, 17, 17);">, return </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);">.</font>
3. <font style="color:rgb(17, 17, 17);">Let </font><font style="color:rgb(33, 131, 121);">searchLen</font><font style="color:rgb(17, 17, 17);"> be the length of </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);">.</font>
4. <font style="color:rgb(17, 17, 17);">For each </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> such that </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> ≤ </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> ≤ </font><font style="color:rgb(33, 131, 121);">len</font><font style="color:rgb(17, 17, 17);"> - </font><font style="color:rgb(33, 131, 121);">searchLen</font><font style="color:rgb(17, 17, 17);">, in ascending order, do</font>
    1. <font style="color:rgb(17, 17, 17);">Let </font><font style="color:rgb(33, 131, 121);">candidate</font><font style="color:rgb(17, 17, 17);"> be the </font>[<font style="color:rgb(32, 108, 167);">substring</font>](https://tc39.es/ecma262/#substring)<font style="color:rgb(17, 17, 17);"> of </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);"> from </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> to </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> + </font><font style="color:rgb(33, 131, 121);">searchLen</font><font style="color:rgb(17, 17, 17);">.</font>
    2. <font style="color:rgb(17, 17, 17);">If </font><font style="color:rgb(33, 131, 121);">candidate</font><font style="color:rgb(17, 17, 17);"> is </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);">, return </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);">.</font>
5. <font style="color:rgb(17, 17, 17);">Return not-found.</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note 1: If </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">searchValue</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> is the empty String and </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">fromIndex</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> ≤ the length of </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">string</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">, this algorithm returns </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">fromIndex</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">. The empty String is effectively found at every position within a string, including after the last code unit.</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note 2: This algorithm always returns not-found if </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">fromIndex</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> + the length of </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">searchValue</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> > the length of </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">string</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">.</font>

抽象操作 StringIndexOf 接受参数 string（一个字符串）、searchValue（一个字符串）和 fromIndex（一个非负整数），并返回一个非负整数或未找到。当被调用时，它执行以下步骤：

1. <font style="color:rgb(17, 17, 17);">令 len 为字符串 string 的长度。</font>
2. <font style="color:rgb(17, 17, 17);">如果 searchValue 是空字符串且 fromIndex ≤ len，则返回 fromIndex。</font>
3. <font style="color:rgb(17, 17, 17);">令 searchLen 为 searchValue 的长度。</font>
4. <font style="color:rgb(17, 17, 17);">对于每个满足 fromIndex ≤ i ≤ len - searchLen 的整数 i，按升序进行如下操作：  
</font><font style="color:rgb(17, 17, 17);">a. 令 candidate 为从 i 到 i + searchLen 的 string 子串。  
</font><font style="color:rgb(17, 17, 17);">b. 如果 candidate 等于 searchValue，则返回 i。</font>
5. <font style="color:rgb(17, 17, 17);">返回未找到。</font>

> 注1：如果searchValue是空字符串，并且fromIndex ≤ string的长度，那么此算法将返回fromIndex。空字符串实际上被认为在字符串的每个位置都存在，包括最后一个字符之后。  
注2：如果fromIndex加上searchValue的长度大于字符串的长度，此算法总是返回未找到的结果。
>



##### <font style="color:rgb(17, 17, 17);">6.1.4.2 StringLastIndexOf ( </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);">, </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);">, </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> )</font>
<font style="color:rgb(17, 17, 17);">The abstract operation StringLastIndexOf takes arguments </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);"> (a String), </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);"> (a String), and </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> (a non-negative </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);">) and returns a non-negative </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> or not-found. It performs the following steps when called:</font>

1. <font style="color:rgb(17, 17, 17);">Let </font><font style="color:rgb(33, 131, 121);">len</font><font style="color:rgb(17, 17, 17);"> be the length of </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);">.</font>
2. <font style="color:rgb(17, 17, 17);">Let </font><font style="color:rgb(33, 131, 121);">searchLen</font><font style="color:rgb(17, 17, 17);"> be the length of </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);">.</font>
3. <font style="color:rgb(17, 17, 17);"></font>[<font style="color:rgb(32, 108, 167);">Assert</font>](https://tc39.es/ecma262/#assert)<font style="color:rgb(17, 17, 17);">: </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);"> + </font><font style="color:rgb(33, 131, 121);">searchLen</font><font style="color:rgb(17, 17, 17);"> ≤ </font><font style="color:rgb(33, 131, 121);">len</font><font style="color:rgb(17, 17, 17);">.</font>
4. <font style="color:rgb(17, 17, 17);">For each </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> such that 0 ≤ </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> ≤ </font><font style="color:rgb(33, 131, 121);">fromIndex</font><font style="color:rgb(17, 17, 17);">, in descending order, do</font>
    1. <font style="color:rgb(17, 17, 17);"> a. </font><font style="color:rgb(17, 17, 17);">Let</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">candidate</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">be the</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">substring</font>](https://tc39.es/ecma262/#substring)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">string</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">to</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">+</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">searchLen</font><font style="color:rgb(17, 17, 17);">.</font>
    2. <font style="color:rgb(17, 17, 17);"> b. </font><font style="color:rgb(17, 17, 17);">If</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">candidate</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">searchValue</font><font style="color:rgb(17, 17, 17);">, return</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">i</font><font style="color:rgb(17, 17, 17);">.</font>
5. <font style="color:rgb(17, 17, 17);">Return not-found.</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note: If </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">searchValue</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> is the empty String, this algorithm returns </font><font style="color:rgb(33, 131, 121);background-color:rgb(233, 251, 233);">fromIndex</font><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">. The empty String is effectively found at every position within a string, including after the last code unit.</font>

抽象操作`StringLastIndexOf`接受三个参数：字符串（一个String类型），searchValue（一个String类型）和fromIndex（一个非负整数），并返回一个非负整数或未找到的结果。当被调用时，它执行以下步骤：

1. 令len为字符串的长度。
2. 令searchLen为searchValue的长度。
3. 断言：fromIndex + searchLen ≤ len。
4. 对于满足0 ≤ i ≤ fromIndex的每个整数i，按照降序进行如下操作：  
a. 令candidate为从i到i + searchLen的子串。  
b. 如果candidate等于searchValue，则返回i。
5. 返回未找到。

> 注：如果searchValue是空字符串，此算法将返回fromIndex。空字符串实际上被认为存在于字符串中的每一个位置，包括最后一个字符单位之后的位置。
>



#### <font style="color:rgb(17, 17, 17);">6.1.5 The Symbol Type</font>
<font style="color:rgb(17, 17, 17);">The Symbol type is the set of all non-String values that may be used as the key of an Object property (</font>[<font style="color:rgb(32, 108, 167);">6.1.7</font>](https://tc39.es/ecma262/#sec-object-type)<font style="color:rgb(17, 17, 17);">).</font>

<font style="color:rgb(17, 17, 17);">Each possible Symbol value is unique and immutable.</font>

<font style="color:rgb(17, 17, 17);">Each Symbol value immutably holds an associated value called </font>[[Description]]<font style="color:rgb(17, 17, 17);"> that is either </font>**<font style="color:rgb(17, 17, 17);">undefined</font>**<font style="color:rgb(17, 17, 17);"> or a String value.</font>

符号类型是由所有可以作为对象属性键的非字符串值组成的集合（6.1.7）。  
每个可能的符号值都是唯一且不可变的。  
每个符号值都不可变地持有一个关联值，称为 [[Description]]，该关联值要么是 undefined，要么是一个字符串值。



#### <font style="color:rgb(17, 17, 17);">6.1.6 Numeric Types</font>
<font style="color:rgb(17, 17, 17);">ECMAScript has two built-in numeric types: Number and BigInt. The following </font>[<font style="color:rgb(32, 108, 167);">abstract operations</font>](https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations)<font style="color:rgb(17, 17, 17);"> are defined over these numeric types. The "Result" column shows the return type, along with an indication if it is possible for some invocations of the operation to return an </font>[<font style="color:rgb(32, 108, 167);">abrupt completion</font>](https://tc39.es/ecma262/#sec-completion-record-specification-type)<font style="color:rgb(17, 17, 17);">.</font>

ECMAScript 有两种内置的数字类型：Number 和 BigInt。以下是对这些数字类型定义的抽象操作。“结果”列显示了返回类型，以及该操作在某些调用中是否可能返回异常完成的情况。



<font style="color:rgb(17, 17, 17);">Because the numeric types are in general not convertible without loss of precision or truncation, the ECMAScript language provides no implicit conversion among these types. Programmers must explicitly call </font>`<font style="color:rgb(17, 17, 17);">Number</font>`<font style="color:rgb(17, 17, 17);"> and </font>`<font style="color:rgb(17, 17, 17);">BigInt</font>`<font style="color:rgb(17, 17, 17);"> functions to convert among types when calling a function which requires another type.</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note: The first and subsequent editions of ECMAScript have provided, for certain operators, implicit numeric conversions that could lose precision or </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">truncate</font>](https://tc39.es/ecma262/#eqn-truncate)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">. These legacy implicit conversions are maintained for backward compatibility, but not provided for BigInt in order to minimize opportunity for programmer error, and to leave open the option of generalized </font>_<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">value types</font>_<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> in a future edition.</font>

由于数值类型通常在转换时会损失精度或被截断，ECMAScript 语言不提供这些类型之间的隐式转换。当调用需要另一种类型的函数时，程序员必须显式地调用 `Number` 和 `BigInt` 函数来进行类型转换。

> 注：ECMAScript 的第一个版本及其后续版本为某些运算符提供了可能损失精度或截断的隐式数值转换。为了向后兼容，这些遗留的隐式转换得以保留，但对于 `BigInt` 则没有提供这种隐式转换，以减少程序员出错的机会，并为将来版本中实现更通用的值类型留有余地。
>



##### <font style="color:rgb(17, 17, 17);">6.1.6.1 The Number Type</font>
<font style="color:rgb(17, 17, 17);">The Number type has exactly 18,437,736,874,454,810,627 (that is, 2</font><sup><font style="color:rgb(17, 17, 17);">64</font></sup><font style="color:rgb(17, 17, 17);"> - 2</font><sup><font style="color:rgb(17, 17, 17);">53</font></sup><font style="color:rgb(17, 17, 17);"> + 3) values, representing the double-precision floating point </font>[<font style="color:rgb(32, 108, 167);">IEEE 754-2019</font>](https://tc39.es/ecma262/#sec-bibliography)<font style="color:rgb(17, 17, 17);"> binary64 values as specified in the IEEE Standard for Binary Floating-Point Arithmetic, except that the 9,007,199,254,740,990 (that is, 2</font><sup><font style="color:rgb(17, 17, 17);">53</font></sup><font style="color:rgb(17, 17, 17);"> - 2) distinct NaN values of the IEEE Standard are represented in ECMAScript as a single special </font>**<font style="color:rgb(17, 17, 17);">NaN</font>**<font style="color:rgb(17, 17, 17);"> value. (Note that the </font>**<font style="color:rgb(17, 17, 17);">NaN</font>**<font style="color:rgb(17, 17, 17);"> value is produced by the program expression </font>`NaN`<font style="color:rgb(17, 17, 17);">.) In some implementations, external code might be able to detect a difference between various NaN values, but such behaviour is </font>[<font style="color:rgb(32, 108, 167);">implementation-defined</font>](https://tc39.es/ecma262/#implementation-defined)<font style="color:rgb(17, 17, 17);">; to ECMAScript code, all </font>**<font style="color:rgb(17, 17, 17);">NaN</font>**<font style="color:rgb(17, 17, 17);"> values are indistinguishable from each other.</font><font style="color:rgb(17, 17, 17);"></font>

数字类型恰好有18,437,736,874,454,810,627（即2<sup>**64**</sup>** - 2**<sup>53</sup> + 3）个值，这些值代表了IEEE 754-2019标准中定义的双精度浮点二进制64位数值，但有一个例外：IEEE标准中的9,007,199,254,740,990（即2<sup>53 </sup>- 2）个不同的NaN值在ECMAScript中被表示为一个特殊的NaN值。（请注意，NaN值可以通过程序表达式NaN产生。）在某些实现中，外部代码可能能够检测到不同NaN值之间的差异，但这种行为是实现定义的；对于ECMAScript代码来说，所有的NaN值都是不可区分的。



##### <font style="color:rgb(17, 17, 17);">6.1.6.2 The BigInt Type</font>
<font style="color:rgb(17, 17, 17);">The BigInt type represents an </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> value. The value may be any size and is not limited to a particular bit-width. Generally, where not otherwise noted, operations are designed to return exact mathematically-based answers. For binary operations, BigInts act as two's complement binary strings, with negative numbers treated as having bits set infinitely to the left.</font>

BigInt 类型表示一个整数值。该值可以是任意大小，并不限制于特定的位宽。通常来说，除非另有说明，操作设计为返回精确的基于数学的答案。对于二进制运算，BigInt 作为二进制补码字符串进行处理，其中负数被视为左侧无限位都被设置为1。



#### <font style="color:rgb(17, 17, 17);">6.1.7 The Object Type</font>
<font style="color:rgb(17, 17, 17);">Each instance of the Object type, also referred to simply as “an Object”, represents a collection of properties. Each property is either a data property, or an accessor property:</font>

+ <font style="color:rgb(17, 17, 17);">A</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">data property</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">associates a key value with an</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">ECMAScript language value</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and a set of Boolean attributes.</font>
+ <font style="color:rgb(17, 17, 17);">An</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">accessor property</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">associates a key value with one or two accessor functions, and a set of Boolean attributes. The accessor functions are used to store or retrieve an</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">ECMAScript language value</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">that is associated with the property.</font>

<font style="color:rgb(17, 17, 17);">The properties of an object are uniquely identified using</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">property keys</font>](https://tc39.es/ecma262/#property-key)<font style="color:rgb(17, 17, 17);">. A</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">property key</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is either a String or a Symbol. All Strings and Symbols, including the empty String, are valid as</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">property keys</font>](https://tc39.es/ecma262/#property-key)<font style="color:rgb(17, 17, 17);">. A</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">property name</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">property key</font>](https://tc39.es/ecma262/#property-key)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">that</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">is a String</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type)<font style="color:rgb(17, 17, 17);">.</font>

<font style="color:rgb(17, 17, 17);">An integer index is a </font>[<font style="color:rgb(32, 108, 167);">property name</font>](https://tc39.es/ecma262/#property-name)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">n</font><font style="color:rgb(17, 17, 17);"> such that </font>[<font style="color:rgb(32, 108, 167);">CanonicalNumericIndexString</font>](https://tc39.es/ecma262/#sec-canonicalnumericindexstring)<font style="color:rgb(17, 17, 17);">(</font><font style="color:rgb(33, 131, 121);">n</font><font style="color:rgb(17, 17, 17);">) returns an </font>[<font style="color:rgb(32, 108, 167);">integral Number</font>](https://tc39.es/ecma262/#integral-number)<font style="color:rgb(17, 17, 17);"> in the </font>[<font style="color:rgb(32, 108, 167);">inclusive interval</font>](https://tc39.es/ecma262/#inclusive-interval)<font style="color:rgb(17, 17, 17);"> from </font>**<font style="color:rgb(17, 17, 17);">+0</font>**<sub><font style="color:rgb(17, 17, 17);">𝔽</font></sub><font style="color:rgb(17, 17, 17);"> to </font>[<font style="color:rgb(32, 108, 167);">𝔽</font>](https://tc39.es/ecma262/#%F0%9D%94%BD)<font style="color:rgb(17, 17, 17);">(2</font><sup><font style="color:rgb(17, 17, 17);">53</font></sup><font style="color:rgb(17, 17, 17);"> - 1). An array index is an </font>[<font style="color:rgb(32, 108, 167);">integer index</font>](https://tc39.es/ecma262/#integer-index)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">n</font><font style="color:rgb(17, 17, 17);"> such that </font>[<font style="color:rgb(32, 108, 167);">CanonicalNumericIndexString</font>](https://tc39.es/ecma262/#sec-canonicalnumericindexstring)<font style="color:rgb(17, 17, 17);">(</font><font style="color:rgb(33, 131, 121);">n</font><font style="color:rgb(17, 17, 17);">) returns an </font>[<font style="color:rgb(32, 108, 167);">integral Number</font>](https://tc39.es/ecma262/#integral-number)<font style="color:rgb(17, 17, 17);"> in the </font>[<font style="color:rgb(32, 108, 167);">inclusive interval</font>](https://tc39.es/ecma262/#inclusive-interval)<font style="color:rgb(17, 17, 17);"> from </font>**<font style="color:rgb(17, 17, 17);">+0</font>**<sub><font style="color:rgb(17, 17, 17);">𝔽</font></sub><font style="color:rgb(17, 17, 17);"> to </font>[<font style="color:rgb(32, 108, 167);">𝔽</font>](https://tc39.es/ecma262/#%F0%9D%94%BD)<font style="color:rgb(17, 17, 17);">(2</font><sup><font style="color:rgb(17, 17, 17);">32</font></sup><font style="color:rgb(17, 17, 17);"> - 2).</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note: Every non-negative </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">safe integer</font>](https://tc39.es/ecma262/#safe-integer)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> has a corresponding </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">integer index</font>](https://tc39.es/ecma262/#integer-index)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">. Every 32-bit unsigned </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> except 2</font><sup><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">32</font></sup><font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> - 1 has a corresponding </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">array index</font>](https://tc39.es/ecma262/#array-index)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">. </font>**<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">"-0"</font>**<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> is neither an </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">integer index</font>](https://tc39.es/ecma262/#integer-index)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> nor an </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">array index</font>](https://tc39.es/ecma262/#array-index)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">.</font>

[<font style="color:rgb(32, 108, 167);">Property keys</font>](https://tc39.es/ecma262/#property-key)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">are used to access properties and their values. There are two kinds of access for properties:</font><font style="color:rgb(17, 17, 17);"> </font>_<font style="color:rgb(17, 17, 17);">get</font>_<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and</font><font style="color:rgb(17, 17, 17);"> </font>_<font style="color:rgb(17, 17, 17);">set</font>_<font style="color:rgb(17, 17, 17);">, corresponding to value retrieval and assignment, respectively. The properties accessible via get and set access includes both</font><font style="color:rgb(17, 17, 17);"> </font>_<font style="color:rgb(17, 17, 17);">own properties</font>_<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">that are a direct part of an object and</font><font style="color:rgb(17, 17, 17);"> </font>_<font style="color:rgb(17, 17, 17);">inherited properties</font>_<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">which are provided by another associated object via a property inheritance relationship. Inherited properties may be either own or inherited properties of the associated object. Each own property of an object must each have a key value that is distinct from the key values of the other own properties of that object.</font>

<font style="color:rgb(17, 17, 17);">All objects are logically collections of properties, but there are multiple forms of objects that differ in their semantics for accessing and manipulating their properties. Please see</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">6.1.7.2</font>](https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">for definitions of the multiple forms of objects.</font>

<font style="color:rgb(17, 17, 17);">In addition, some objects are callable; these are referred to as functions or </font>[<font style="color:rgb(32, 108, 167);">function objects</font>](https://tc39.es/ecma262/#function-object)<font style="color:rgb(17, 17, 17);"> and are described further below. All functions in ECMAScript are members of the Object type.</font>

每个 Object 类型的实例，也简称为“对象”，代表一组属性的集合。每个属性要么是数据属性，要么是访问器属性：

+ 数据属性将一个键值与一个 ECMAScript 语言值和一组布尔属性关联起来。
+ 访问器属性将一个键值与一到两个访问器函数以及一组布尔属性关联起来。这些访问器函数用于存储或检索与该属性关联的 ECMAScript 语言值。  
对象的属性通过属性键唯一标识。属性键可以是字符串或符号。所有字符串和符号（包括空字符串）都可以作为属性键。属性名称是指作为字符串的属性键。  
整数索引是一个属性名称 n，使得 CanonicalNumericIndexString(n) 返回一个在从 +0<sub>𝔽</sub> 到 𝔽(2<sup>53</sup> - 1) 包含范围内的整数。数组索引是一个整数索引 n，使得 CanonicalNumericIndexString(n) 返回一个在从 +0𝔽 到 𝔽(2<sup>32</sup> - 2) 包含范围内的整数。

> 注：每个非负安全整数都有一个对应的整数索引。除了 2^32 - 1 以外的每个 32 位无符号整数都有一个对应的数组索引。“-0”既不是整数索引也不是数组索引。
>

属性键用于访问属性及其值。属性有两种访问方式：get 和 set，分别对应于值的获取和赋值。可以通过 get 和 set 访问的属性包括对象直接拥有的自身属性以及通过属性继承关系由另一个相关对象提供的继承属性。继承属性可以是相关对象的自身属性或继承属性。对象的每个自身属性必须具有与其他自身属性不同的键值。  
所有的对象在逻辑上都是属性的集合，但存在多种形式的对象，它们在访问和操作其属性时的语义不同。请参阅 6.1.7.2 节以了解多种对象形式的定义。  
此外，有些对象是可以被调用的；这些被称为函数或函数对象，并将在下文中进一步描述。ECMAScript 中的所有函数都是 Object 类型的成员。

<font style="color:rgb(17, 17, 17);"></font>

##### <font style="color:rgb(17, 17, 17);">6.1.7.1 Property Attributes</font>
<font style="color:rgb(17, 17, 17);">Attributes are used in this specification to define and explain the state of Object properties as described in </font>[<font style="color:rgb(32, 108, 167);">Table 3</font>](https://tc39.es/ecma262/#table-object-property-attributes)<font style="color:rgb(17, 17, 17);">. Unless specified explicitly, the initial value of each attribute is its Default Value.</font>

<font style="color:rgb(17, 17, 17);"></font>

##### <font style="color:rgb(17, 17, 17);">6.1.7.2 Object Internal Methods and Internal Slots</font>
<font style="color:rgb(17, 17, 17);">The actual semantics of objects, in ECMAScript, are specified via algorithms called </font>_<font style="color:rgb(17, 17, 17);">internal methods</font>_<font style="color:rgb(17, 17, 17);">. Each object in an ECMAScript engine is associated with a set of internal methods that defines its runtime behaviour. These internal methods are not part of the ECMAScript language. They are defined by this specification purely for expository purposes. However, each object within an implementation of ECMAScript must behave as specified by the internal methods associated with it. The exact manner in which this is accomplished is determined by the implementation.</font>

<font style="color:rgb(17, 17, 17);">Internal method names are polymorphic. This means that different object values may perform different algorithms when a common internal method name is invoked upon them. That actual object upon which an internal method is invoked is the “target” of the invocation. If, at runtime, the implementation of an algorithm attempts to use an internal method of an object that the object does not support, a</font><font style="color:rgb(17, 17, 17);"> </font>**<font style="color:rgb(17, 17, 17);">TypeError</font>**<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">exception is thrown.</font>

<font style="color:rgb(17, 17, 17);">Internal slots correspond to internal state that is associated with objects and used by various ECMAScript specification algorithms. Internal slots are not object properties and they are not inherited. Depending upon the specific internal slot specification, such state may consist of values of any </font>[<font style="color:rgb(32, 108, 167);">ECMAScript language type</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types)<font style="color:rgb(17, 17, 17);"> or of specific ECMAScript specification type values. Unless explicitly specified otherwise, internal slots are allocated as part of the process of creating an object and may not be dynamically added to an object. Unless specified otherwise, the initial value of an internal slot is the value </font>**<font style="color:rgb(17, 17, 17);">undefined</font>**<font style="color:rgb(17, 17, 17);">. Various algorithms within this specification create objects that have internal slots. However, the ECMAScript language provides no direct way to associate internal slots with an object.</font><font style="color:rgb(17, 17, 17);"></font>

在ECMAScript中，对象的实际语义是通过称为内部方法的算法来指定的。每个ECMAScript引擎中的对象都关联有一组定义其运行时行为的内部方法。这些内部方法不是ECMAScript语言的一部分。它们仅为了说明目的而由本规范定义。然而，在ECMAScript实现中的每个对象必须按照与其相关联的内部方法所规定的方式表现。具体如何实现这一点是由具体的实现决定的。  
内部方法名称是多态的。这意味着当对不同的对象值调用相同的内部方法名时，可能会执行不同的算法。实际被调用内部方法的对象被称为该调用的“目标”。如果在运行时，某个算法试图使用一个对象不支持的内部方法，则会抛出TypeError异常。  
内部槽位对应于与对象相关的内部状态，并被各种ECMAScript规范算法使用。内部槽位不是对象属性，也不可继承。根据特定内部槽位的具体规范，这样的状态可以包含任何ECMAScript语言类型或特定ECMAScript规范类型值。除非另有明确规定，否则内部槽位是在创建对象的过程中分配的，不能动态地添加到对象上。除非另有规定，内部槽位的初始值为undefined。本规范中的多种算法都会创建带有内部槽位的对象。但是，ECMAScript语言本身没有直接的方法将内部槽位与对象关联起来。

<font style="color:rgb(17, 17, 17);"></font>

##### <font style="color:rgb(17, 17, 17);">6.1.7.3 Invariants of the Essential Internal Methods</font>
<font style="color:rgb(17, 17, 17);">The Internal Methods of Objects of an ECMAScript engine must conform to the list of invariants specified below. Ordinary ECMAScript Objects as well as all standard </font>[<font style="color:rgb(32, 108, 167);">exotic objects</font>](https://tc39.es/ecma262/#exotic-object)<font style="color:rgb(17, 17, 17);"> in this specification maintain these invariants. ECMAScript Proxy objects maintain these invariants by means of runtime checks on the result of traps invoked on the </font>[[ProxyHandler]]<font style="color:rgb(17, 17, 17);"> object.</font>

<font style="color:rgb(17, 17, 17);">Any implementation provided</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">exotic objects</font>](https://tc39.es/ecma262/#exotic-object)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">must also maintain these invariants for those objects. Violation of these invariants may cause ECMAScript code to have unpredictable behaviour and create security issues. However, violation of these invariants must never compromise the memory safety of an implementation.</font>

<font style="color:rgb(17, 17, 17);">An implementation must not allow these invariants to be circumvented in any manner such as by providing alternative interfaces that implement the functionality of the essential internal methods without enforcing their invariants.</font>

<font style="color:rgb(17, 17, 17);">ECMAScript引擎的对象内部方法必须符合下面列出的不变式。普通的ECMAScript对象以及本规范中的所有标准特殊对象都保持这些不变式。ECMAScript代理对象通过对其[[ProxyHandler]]对象上被调用的陷阱结果进行运行时检查来保持这些不变式。  
</font><font style="color:rgb(17, 17, 17);">任何实现提供的特殊对象也必须为这些对象保持这些不变式。违反这些不变式可能导致ECMAScript代码出现不可预测的行为并引发安全问题。然而，违反这些不变式绝不应损害实现的内存安全性。  
</font><font style="color:rgb(17, 17, 17);">实现不得以任何形式绕过这些不变式，例如提供不强制执行其不变式的替代接口来实现关键内部方法的功能。  
</font>

##### <font style="color:rgb(17, 17, 17);">6.1.7.4 Well-Known Intrinsic Objects</font>
<font style="color:rgb(17, 17, 17);">Well-known intrinsics are built-in objects that are explicitly referenced by the algorithms of this specification and which usually have </font>[<font style="color:rgb(32, 108, 167);">realm</font>](https://tc39.es/ecma262/#realm)<font style="color:rgb(17, 17, 17);">-specific identities. Unless otherwise specified each intrinsic object actually corresponds to a set of similar objects, one per </font>[<font style="color:rgb(32, 108, 167);">realm</font>](https://tc39.es/ecma262/#realm)<font style="color:rgb(17, 17, 17);">.</font>

著名的内置对象是本规范中的算法明确引用的对象，这些对象通常具有领域特定的身份。除非另有说明，每个内置对象实际上对应于一组相似的对象，每个领域一个。

<font style="color:rgb(17, 17, 17);"></font>

### <font style="color:rgb(17, 17, 17);">6.2 ECMAScript Specification Types</font>
<font style="color:rgb(17, 17, 17);">A specification type corresponds to meta-values that are used within algorithms to describe the semantics of ECMAScript language constructs and </font>[<font style="color:rgb(32, 108, 167);">ECMAScript language types</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types)<font style="color:rgb(17, 17, 17);">. The specification types include </font>[<font style="color:rgb(32, 108, 167);">Reference Record</font>](https://tc39.es/ecma262/#sec-reference-record-specification-type)<font style="color:rgb(17, 17, 17);">, </font>[<font style="color:rgb(32, 108, 167);">List</font>](https://tc39.es/ecma262/#sec-list-and-record-specification-type)<font style="color:rgb(17, 17, 17);">, </font>[<font style="color:rgb(32, 108, 167);">Completion Record</font>](https://tc39.es/ecma262/#sec-completion-record-specification-type)<font style="color:rgb(17, 17, 17);">, </font>[<font style="color:rgb(32, 108, 167);">Property Descriptor</font>](https://tc39.es/ecma262/#sec-property-descriptor-specification-type)<font style="color:rgb(17, 17, 17);">, </font>[<font style="color:rgb(32, 108, 167);">Environment Record</font>](https://tc39.es/ecma262/#sec-environment-records)<font style="color:rgb(17, 17, 17);">, </font>[<font style="color:rgb(32, 108, 167);">Abstract Closure</font>](https://tc39.es/ecma262/#sec-abstract-closure)<font style="color:rgb(17, 17, 17);">, and </font>[<font style="color:rgb(32, 108, 167);">Data Block</font>](https://tc39.es/ecma262/#sec-data-blocks)<font style="color:rgb(17, 17, 17);">. Specification type values are specification artefacts that do not necessarily correspond to any specific entity within an ECMAScript implementation. Specification type values may be used to describe intermediate results of ECMAScript expression evaluation but such values cannot be stored as properties of objects or values of ECMAScript language variables.</font>

一种规范类型对应于在算法中用于描述ECMAScript语言结构和ECMAScript语言类型的语义的元值。规范类型包括引用记录（Reference Record）、列表（List）、完成记录（Completion Record）、属性描述符（Property Descriptor）、环境记录（Environment Record）、抽象闭包（Abstract Closure）和数据块（Data Block）。规范类型值是规范中的产物，不一定与ECMAScript实现中的任何特定实体相对应。这些规范类型值可以用来描述ECMAScript表达式求值过程中的中间结果，但这些值不能被存储为对象的属性或ECMAScript语言变量的值。



#### <font style="color:rgb(17, 17, 17);">6.2.1 The Enum Specification Type</font>
<font style="color:rgb(17, 17, 17);">Enums are values which are internal to the specification and not directly observable from ECMAScript code. Enums are denoted using a sans-serif typeface. For instance, a </font>[<font style="color:rgb(32, 108, 167);">Completion Record</font>](https://tc39.es/ecma262/#sec-completion-record-specification-type)<font style="color:rgb(17, 17, 17);">'s </font>[[Type]]<font style="color:rgb(17, 17, 17);"> field takes on values like normal, return, or throw. Enums have no characteristics other than their name. The name of an enum serves no purpose other than to distinguish it from other enums, and implies nothing about its usage or meaning in context.</font>

枚举是规范内部的值，不能直接通过ECMAScript代码观察到。枚举使用无衬线字体表示。例如，一个完成记录（Completion Record）的[[Type]]字段可以取诸如normal、return或throw这样的值。枚举除了其名称外没有其他特性。枚举的名称唯一的作用就是将其与其他枚举区分开来，并不暗示其在上下文中的用法或含义。



#### <font style="color:rgb(17, 17, 17);">6.2.2 The List and Record Specification Types</font>
<font style="color:rgb(17, 17, 17);">The List type is used to explain the evaluation of argument lists (see </font>[<font style="color:rgb(32, 108, 167);">13.3.8</font>](https://tc39.es/ecma262/#sec-argument-lists)<font style="color:rgb(17, 17, 17);">) in </font>`new` <font style="color:rgb(17, 17, 17);">expressions, in function calls, and in other algorithms where a simple ordered list of values is needed. Values of the List type are simply ordered sequences of list elements containing the individual values. These sequences may be of any length. The elements of a list may be randomly accessed using 0-origin indices. For notational convenience an array-like syntax can be used to access List elements. For example, </font><font style="color:rgb(33, 131, 121);">arguments</font><font style="color:rgb(17, 17, 17);">[2] is shorthand for saying the 3</font><sup><font style="color:rgb(17, 17, 17);">rd</font></sup><font style="color:rgb(17, 17, 17);"> element of the List </font><font style="color:rgb(33, 131, 121);">arguments</font><font style="color:rgb(17, 17, 17);">.</font>

列表类型用于解释新表达式、函数调用以及其他需要简单有序值列表的算法中参数列表的评估（见13.3.8）。列表类型的值就是包含各个单独值的简单有序序列。这些序列可以是任意长度。可以使用以0为起始的索引随机访问列表中的元素。为了表示方便，可以使用类似数组的语法来访问列表元素。例如，arguments[2]是表示列表arguments中第3个元素的简写。



#### <font style="color:rgb(17, 17, 17);">6.2.3 The Set and Relation Specification Types</font>
<font style="color:rgb(17, 17, 17);">The </font>_<font style="color:rgb(17, 17, 17);">Set</font>_<font style="color:rgb(17, 17, 17);"> type is used to explain a collection of unordered elements for use in the </font>[<font style="color:rgb(32, 108, 167);">memory model</font>](https://tc39.es/ecma262/#sec-memory-model)<font style="color:rgb(17, 17, 17);">. It is distinct from the ECMAScript collection type of the same name. To disambiguate, instances of the ECMAScript collection are consistently referred to as "Set objects" within this specification. Values of the Set type are simple collections of elements, where no element appears more than once. Elements may be added to and removed from Sets. Sets may be unioned, intersected, or subtracted from each other.</font>

Set 类型用于解释内存模型中使用的一组无序元素。它与同名的 ECMAScript 集合类型不同。为避免混淆，本规范中始终将 ECMAScript 集合的实例称为“Set 对象”。Set 类型的值是简单的元素集合，其中没有元素会重复出现。可以向 Set 中添加或移除元素。Set 之间可以进行并集、交集或差集操作。



#### <font style="color:rgb(17, 17, 17);">6.2.4 The Completion Record Specification Type</font>
<font style="color:rgb(17, 17, 17);">The Completion Record specification type is used to explain the runtime propagation of values and control flow such as the behaviour of statements (</font>`break`<font style="color:rgb(17, 17, 17);">, </font>`continue`<font style="color:rgb(17, 17, 17);">, </font>`return` an<font style="color:rgb(17, 17, 17);">d </font>`throw`) t<font style="color:rgb(17, 17, 17);">hat perform nonlocal transfers of control.</font>

完成记录规范类型用于解释值的运行时传播和控制流的行为，比如执行非局部控制转移的语句（如 break、continue、return 和 throw）的行为。  


#### <font style="color:rgb(17, 17, 17);">6.2.5 The Reference Record Specification Type</font>
<font style="color:rgb(17, 17, 17);">The Reference Record type is used to explain the behaviour of such operators</font> as `delete`, `typeof`, the assignment operators, the `super` [keyword](https://tc39.es/ecma262/#sec-keywords-and-reserved-words) and other language<font style="color:rgb(17, 17, 17);"> features. For example, the left-hand operand of an assignment is expected to produce a Reference Record.</font>

参考记录类型用于解释诸如delete、typeof、赋值运算符、super关键字以及其他语言特性的行为。例如，赋值运算符的左操作数预期会产生一个参考记录。

