## 6 数据类型和值 <font style="color:rgb(17, 17, 17);">ECMAScript Data Types and Values</font>
<font style="color:rgb(17, 17, 17);">Algorithms within this specification manipulate values each of which has an associated type. The possible value types are exactly those defined in this clause. Types are further classified into </font>[<font style="color:rgb(32, 108, 167);">ECMAScript language types</font>](https://tc39.es/ecma262/#sec-ecmascript-language-types)<font style="color:rgb(17, 17, 17);"> and specification types.</font>

本规范中的算法会处理各种值，每个值都有其关联的类型。可能的值类型正好是本条中定义的那些类型。类型进一步被划分为ECMAScript语言类型和规范类型。

### <font style="color:rgb(17, 17, 17);">6.1 类型 ECMAScript Language Types</font>
<font style="color:rgb(17, 17, 17);">An ECMAScript language type corresponds to values that are directly manipulated by an ECMAScript programmer using the ECMAScript language. The ECMAScript language types are Undefined, Null, Boolean, String, Symbol, Number, BigInt, and Object. An ECMAScript language value is a value that is characterized by an ECMAScript language type.</font>

ECMAScript 语言类型对应于 ECMAScript 程序员直接使用 ECMAScript 语言操作的值。ECMAScript 语言类型包括 Undefined、Null、Boolean、String、Symbol、Number、BigInt 和 Object。ECMAScript 语言值是具有 ECMAScript 语言类型特征的值。

#### <font style="color:rgb(17, 17, 17);">6.1.1 The Undefined Type</font>
<font style="color:rgb(17, 17, 17);">The Undefined type has exactly one value, called </font>**<font style="color:rgb(17, 17, 17);">undefined</font>**<font style="color:rgb(17, 17, 17);">. Any variable that has not been assigned a value has the value </font>**<font style="color:rgb(17, 17, 17);">undefined</font>**<font style="color:rgb(17, 17, 17);">.</font>

未定义类型（Undefined type）只有一个值，即 undefined。任何未被赋值的变量的值都是 undefined。

#### <font style="color:rgb(17, 17, 17);">6.1.2 The Null Type</font>
<font style="color:rgb(17, 17, 17);">The Null type has exactly one value, called </font>**<font style="color:rgb(17, 17, 17);">null</font>**<font style="color:rgb(17, 17, 17);">.</font>

空类型（Null type）恰好只有一个值，称为 null。

#### <font style="color:rgb(17, 17, 17);">6.1.3 The Boolean Type</font>
<font style="color:rgb(17, 17, 17);">The Boolean type represents a logical entity having two values, called </font>**<font style="color:rgb(17, 17, 17);">true</font>**<font style="color:rgb(17, 17, 17);"> and </font>**<font style="color:rgb(17, 17, 17);">false</font>**<font style="color:rgb(17, 17, 17);">.</font>

布尔类型表示一个具有两个值的逻辑实体，这两个值被称为真和假。

#### <font style="color:rgb(17, 17, 17);">6.1.4 The String Type</font>
<font style="color:rgb(17, 17, 17);">The String type is the set of all ordered sequences of zero or more 16-bit unsigned </font>[<font style="color:rgb(32, 108, 167);">integer</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);"> values (“elements”) up to a maximum length of 2</font><sup><font style="color:rgb(17, 17, 17);">53</font></sup><font style="color:rgb(17, 17, 17);"> - 1 elements. The String type is generally used to represent textual data in a running ECMAScript program, in which case each element in the String is treated as a UTF-16 code unit value. Each element is regarded as occupying a position within the sequence. These positions are indexed with non-negative </font>[<font style="color:rgb(32, 108, 167);">integers</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);">. The first element (if any) is at index 0, the next element (if any) at index 1, and so on. The length of a String is the number of elements (i.e., 16-bit values) within it. The empty String has length zero and therefore contains no elements.</font>

字符串类型是由最多2^53 - 1个元素组成的有序序列，这些元素是无符号的16位整数值。在运行的ECMAScript程序中，字符串类型通常用于表示文本数据，在这种情况下，字符串中的每个元素都被视为一个UTF-16编码单元值。每个元素被视为占据序列中的一个位置，这些位置通过非负整数索引。第一个元素（如果有的话）位于索引0处，下一个元素（如果有的话）位于索引1处，依此类推。字符串的长度是指其中包含的元素数量（即16位值的数量）。空字符串的长度为零，因此不包含任何元素。



<font style="color:rgb(17, 17, 17);">ECMAScript operations that do not interpret String contents apply no further semantics. Operations that do interpret String values treat each element as a single UTF-16 code unit. However, ECMAScript does not restrict the value of or relationships between these code units, so operations that further interpret String contents as sequences of Unicode code points encoded in UTF-16 must account for ill-formed subsequences. Such operations apply special treatment to every code unit with a numeric value in the</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">inclusive interval</font>](https://tc39.es/ecma262/#inclusive-interval)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from 0xD800 to 0xDBFF (defined by the Unicode Standard as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">leading surrogate</font><font style="color:rgb(17, 17, 17);">, or more formally as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">high-surrogate code unit</font><font style="color:rgb(17, 17, 17);">) and every code unit with a numeric value in the</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">inclusive interval</font>](https://tc39.es/ecma262/#inclusive-interval)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from 0xDC00 to 0xDFFF (defined as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">trailing surrogate</font><font style="color:rgb(17, 17, 17);">, or more formally as a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">low-surrogate code unit</font><font style="color:rgb(17, 17, 17);">) using the following rules:</font>

+ <font style="color:rgb(17, 17, 17);">A code unit that is not a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">leading surrogate</font>](https://tc39.es/ecma262/#leading-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and not a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">trailing surrogate</font>](https://tc39.es/ecma262/#trailing-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is interpreted as a code point with the same value.</font>
+ <font style="color:rgb(17, 17, 17);">A sequence of two code units, where the first code unit</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">c1</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">leading surrogate</font>](https://tc39.es/ecma262/#leading-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and the second code unit</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">c2</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">trailing surrogate</font>](https://tc39.es/ecma262/#trailing-surrogate)<font style="color:rgb(17, 17, 17);">, is a</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">surrogate pair</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and is interpreted as a code point with the value (</font><font style="color:rgb(33, 131, 121);">c1</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">- 0xD800) × 0x400 + (</font><font style="color:rgb(33, 131, 121);">c2</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">- 0xDC00) + 0x10000. (See</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">11.1.3</font>](https://tc39.es/ecma262/#sec-utf16decodesurrogatepair)<font style="color:rgb(17, 17, 17);">)</font>
+ <font style="color:rgb(17, 17, 17);">A code unit that is a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">leading surrogate</font>](https://tc39.es/ecma262/#leading-surrogate)<font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">or</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">trailing surrogate</font>](https://tc39.es/ecma262/#trailing-surrogate)<font style="color:rgb(17, 17, 17);">, but is not part of a</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">surrogate pair</font>](https://tc39.es/ecma262/#surrogate-pair)<font style="color:rgb(17, 17, 17);">, is interpreted as a code point with the same value.</font>

ECMAScript 操作如果不解释字符串内容，则不会应用进一步的语义。那些确实解释字符串值的操作将每个元素视为单个 UTF-16 编码单元。然而，ECMAScript 并不限制这些编码单元的值或它们之间的关系，因此进一步将字符串内容解释为以 UTF-16 编码的 Unicode 码位序列的操作必须考虑到格式不正确的子序列。这类操作对每一个数值位于 0xD800 到 0xDBFF（包括端点）范围内的编码单元（根据 Unicode 标准定义为主导代理项，或者更正式地说是高代理项编码单元）以及每一个数值位于 0xDC00 到 0xDFFF（包括端点）范围内的编码单元（定义为尾随代理项，或更正式地称为低代理项编码单元）采用以下规则进行特殊处理：

+ 一个既不是主导代理项也不是尾随代理项的编码单元被解释为具有相同值的码位。
+ 两个编码单元的序列，其中第一个编码单元 c1 是主导代理项而第二个编码单元 c2 是尾随代理项，构成一个代理对，并被解释为一个码位，其值为 (c1 - 0xD800) × 0x400 + (c2 - 0xDC00) + 0x10000。（参见 11.1.3）
+ 一个作为主导代理项或尾随代理项但未组成代理对的编码单元，被解释为其自身值相同的码位。

<font style="color:rgb(17, 17, 17);"></font>

<font style="color:rgb(17, 17, 17);">The function </font>`**String.prototype.normalize**`<font style="color:rgb(17, 17, 17);"> (see </font>[<font style="color:rgb(32, 108, 167);">22.1.3.15</font>](https://tc39.es/ecma262/#sec-string.prototype.normalize)<font style="color:rgb(17, 17, 17);">) can be used to explicitly normalize a String value. </font>`**String.prototype.localeCompare**`<font style="color:rgb(17, 17, 17);"> (see </font>[<font style="color:rgb(32, 108, 167);">22.1.3.12</font>](https://tc39.es/ecma262/#sec-string.prototype.localecompare)<font style="color:rgb(17, 17, 17);">) internally normalizes String values, but no other operations implicitly normalize the strings upon which they operate. Operation results are not language- and/or locale-sensitive unless stated otherwise.</font>

<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);">Note: The rationale behind this design was to keep the implementation of Strings as simple and high-performing as possible. If </font>[<font style="color:rgb(32, 108, 167);background-color:rgb(233, 251, 233);">ECMAScript source text</font>](https://tc39.es/ecma262/#sec-source-text)<font style="color:rgb(17, 17, 17);background-color:rgb(233, 251, 233);"> is in Normalized Form C, string literals are guaranteed to also be normalized, as long as they do not contain any Unicode escape sequences.</font>

<font style="color:rgb(17, 17, 17);">In this specification, the phrase "the</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">string-concatenation</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">A</font><font style="color:rgb(17, 17, 17);">,</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">B</font><font style="color:rgb(17, 17, 17);">, ..." (where each argument is a String value, a code unit, or a sequence of code units) denotes the String value whose sequence of code units is the concatenation of the code units (in order) of each of the arguments (in order).</font>

<font style="color:rgb(17, 17, 17);">The phrase "the</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">substring</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">from</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">to</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);">" (where</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is a String value or a sequence of code units and</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">are</font><font style="color:rgb(17, 17, 17);"> </font>[<font style="color:rgb(32, 108, 167);">integers</font>](https://tc39.es/ecma262/#integer)<font style="color:rgb(17, 17, 17);">) denotes the String value consisting of the consecutive code units of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">beginning at index</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">and ending immediately before index</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">(which is the empty String when</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">inclusiveStart</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">=</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);">). If the "to" suffix is omitted, the length of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">S</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(17, 17, 17);">is used as the value of</font><font style="color:rgb(17, 17, 17);"> </font><font style="color:rgb(33, 131, 121);">exclusiveEnd</font><font style="color:rgb(17, 17, 17);">.</font>

<font style="color:rgb(17, 17, 17);">The phrase "the ASCII word characters" denotes the following String value, which consists solely of every letter and number in the Unicode Basic Latin block along with U+005F (LOW LINE):  
</font>**<font style="color:rgb(17, 17, 17);">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_"</font>**<font style="color:rgb(17, 17, 17);">.  
</font><font style="color:rgb(17, 17, 17);">For historical reasons, it has significance to various algorithms.</font>

可以使用 `String.prototype.normalize` 方法（参见 22.1.3.15）来显式地规范化一个字符串值。`String.prototype.localeCompare` 方法（参见 22.1.3.12）在内部会规范化字符串值，但其他操作不会隐式地对其操作的字符串进行规范化。除非另有说明，否则操作结果不会对语言和/或区域设置敏感。

> 注：此设计背后的原因是为了使字符串的实现尽可能简单和高效。如果 ECMAScript 源文本处于归一化形式 C，并且不包含任何 Unicode 转义序列，则字符串字面量也保证是规范化的。
>

在本规范中，“A、B等的字符串连接”（其中每个参数都是一个字符串值、一个代码单元或一系列代码单元）表示一个字符串值，其代码单元序列是由各参数（按顺序）的代码单元（按顺序）连接而成的。  
“S从inclusiveStart到exclusiveEnd的子串”（其中S是一个字符串值或一系列代码单元，inclusiveStart和exclusiveEnd是整数）表示由S中从索引inclusiveStart开始到exclusiveEnd前结束的连续代码单元组成的字符串值（当inclusiveStart等于exclusiveEnd时，这是空字符串）。如果省略了“to”后缀，则使用S的长度作为exclusiveEnd的值。  
“ASCII单词字符”指的是以下字符串值，它仅包括 Unicode 基本拉丁块中的每一个字母和数字以及 U+005F (LOW LINE)：  
"**ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_**"。  
出于历史原因，这在各种算法中有重要意义。

